# CPPFPTemplate-Dockerfile

–ü—Ä–æ–µ–∫—Ç **CPPFPTemplate** –Ω–∞ **Unreal Engine 5.1** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å–±–æ—Ä–∫–∏ –≤ **Windows-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ Docker**.

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

### –ê–∫–∫–∞—É–Ω—Ç—ã

1. –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º GitHub-–∞–∫–∫–∞—É–Ω—Ç –∫ –∞–∫–∫–∞—É–Ω—Ç—É Epic Games:  
   https://www.unrealengine.com/en-US/ue-on-github

2. –õ–æ–≥–∏–Ω–∏–º—Å—è –≤ —Ä–µ–µ—Å—Ç—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ GitHub:  
   üëâ https://docs.github.com/ru/packages/working-with-a-github-packages-registry/working-with-the-container-registry#authenticating-to-the-container-registry

3. –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –∏–¥—ë—Ç –Ω–µ —Ç–∞–∫ ‚Äî –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π Epic Games:  
   üëâ https://dev.epicgames.com/documentation/en-us/unreal-engine/quick-start-guide-for-using-container-images-in-unreal-engine

4. –°–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª `%USERPROFILE%\.ue4-docker\credentials.json` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

```json
{
  "github_username": "–≤–∞—à–µ-–∏–º—è-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è-github",
  "github_token": "–≤–∞—à-personal-access-token"
}
```

### üñ•Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ö–æ—Å—Ç-–º–∞—à–∏–Ω–µ

- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω **Docker Desktop**
- Docker –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ **—Ä–µ–∂–∏–º Windows-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤**
- –°–≤–æ–±–æ–¥–Ω–æ **–Ω–µ –º–µ–Ω–µ–µ 350 –ì–ë** –Ω–∞ –¥–∏—Å–∫–µ
- –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Docker:

–û—Ç–∫—Ä—ã–≤–∞–µ–º –∏–ª–∏ —Å–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª `C:\ProgramData\Docker\config\daemon.json` –∏ –¥–æ–±–∞–≤–ª—è–µ–º:
–£ –º–µ–Ω—è —ç—Ç–æ—Ç —Ñ–∞–π–ª Docker Desktop –Ω–µ –ø—Ä–æ—á–∏—Ç–∞–ª—Å—è, –ø–æ—ç—Ç–æ–º—É –¥–æ–ø–∏—Å–∞–ª –µ—â—ë –∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é DD —á–µ—Ä–µ–∑ UI

```json
{
  "storage-opts": [
    "size=800GB"
  ]
}
```

–ù–µ –∑–∞–±—ã–≤–∞–µ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Docker Desktop –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

---

### –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞ —Å Unreal Engine –∏ –ø—Ä–æ–µ–∫—Ç–æ–º c –Ω—É–ª—è

–í—Å–µ powershell –∫–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞–µ–º –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

1. –í—ã–ø–æ–ª–Ω—è–µ–º —Å–±–æ—Ä–∫—É –æ–±—Ä–∞–∑–∞ UE5.1:

```powershell
$env:DOCKER_BUILDKIT=""
$env:GITHUB_USERNAME="your-github-username"
$env:GITHUB_TOKEN="your-personal-access-token"
docker build -t ue5-builder --build-arg GITHUB_USERNAME=$env:GITHUB_USERNAME --build-arg GITHUB_TOKEN=$env:GITHUB_TOKEN .

```

2. –ó–∞–ø—É—Å–∫–∞–µ–º —Å–±–æ—Ä–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ –º–æ–Ω—Ç–∏—Ä—É–µ–º —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤:

```powershell
docker run --rm -v "C:\artifacts:C:\project" ue5-builder
```

4. –ì–æ—Ç–æ–≤—ã–π –±–∏–ª–¥ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –ø—É—Ç–∏:

```
C:\artifacts\BuildOutput\WindowsNoEditor
```

---

## üèóÔ∏è –°–±–æ—Ä–∫–∞ Windows-–≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ c –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º ue5-docker:
https://github.com/NGTstudio/ue5-docker

1. –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É:

```bash
git clone https://github.com/NGTstudio/ue5-docker.git
cd ue5-docker
```

2. –°–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª .env –∏ —É–∫–∞–∑—ã–≤–∞–µ–º —Å–≤–æ–∏ GitHub-—É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

```
GITHUB_USERNAME="your-github-username"
GITHUB_TOKEN="your-personal-access-token"
```

3. –°–æ–±–∏—Ä–∞–µ–º –ø–æ–ª–Ω—ã–π –æ–±—Ä–∞–∑

```
docker compose --env-file .env build ue5-full
```

4. –°–æ–±–∏—Ä–∞–µ–º –æ–±—Ä–∞–∑ —Å –ø—Ä–æ–µ–∫—Ç–æ–º

```powershell
$env:DOCKER_BUILDKIT=""
docker build -t ue5-builder -f Dockerfile.ue5-docker .
```

5. –ó–∞–ø—É—Å–∫–∞–µ–º —Å–±–æ—Ä–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ –º–æ–Ω—Ç–∏—Ä—É–µ–º —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤:

```powershell
docker run --rm -v "C:\artifacts:C:\project" ue5-builder
```

6. –ì–æ—Ç–æ–≤—ã–π –±–∏–ª–¥ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –ø—É—Ç–∏:

```
C:\artifacts\BuildOutput\WindowsNoEditor
```
---

## –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

1. –°–æ–±—Ä–∞–Ω–Ω—ã–π –∏–º–∞–¥–∂ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –∑–∞–∫—Ä—ã—Ç—ã–º, —Ç–∞–∫ –∫–∞–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ –º–µ—Ç–∞–¥–∞—Ç–∞ –∑–Ω–∞—á–µ–Ω–∏—è (ARG GITHUB_USERNAME, ARG GITHUB_TOKEN), —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ.
Windows –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –ø–æ–∫–∞ --secret mount

2. –†–µ–∫–æ–º–µ–Ω–¥—É—é —Å–æ–±—Ä–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ –∏–º–∞–¥–∂ –±–µ–∑ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –±–∞–∑–æ–≤—ã–π –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤, –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –µ–≥–æ –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞–≤

3. –í–µ—Ä—Å–∏–∏ VS, UE, .Net, –∏—Ç–¥ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –≤—ã–Ω–µ—Å—Ç–∏ –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—ã, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –∫–ª–µ–ø–∞—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ —Ä–∞–∑–Ω—ã–µ –±–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—è –æ–¥–∏–Ω –¥–æ–∫–µ—Ä—Ñ–∞–π–ª (—É–¥–æ–±–Ω–æ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤)

4. –í–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–¥–æ–±–Ω—ã—Ö –∏–º–∞–¥–∂–µ–π, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–∏ –ø–æ–º–æ—â–∏

```
docker commit <id> <name>
```